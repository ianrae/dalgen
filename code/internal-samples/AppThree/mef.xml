<?xml version="1.0"?>
<entities orm="ebean"> 

<entity name="User">
	<field>@Id Long id</field>
	<field>@Required String name</field>

	<query>find_by_name</query>

	<codegen what="entity" extend="false" />
	<codegen what="model" extend="false" />
	<codegen what="dal_interface" extend="false" />
	<codegen what="dal_mock" extend="false" />
	<codegen what="dal_real" extend="false" />
</entity>

<!-- for auth -->
<entity name="Role">
	<field>@Id Long id</field>
	<field>@Required String name</field>

	<query>find_by_name</query>
</entity>

<entity name="Ticket">
	<field>@Id Long id</field>
</entity>

<entity name="AuthRule">
	<field>@Id Long id</field>
	<field>@ManyToOne User user</field>
	<field>@ManyToOne Role role</field>
	<field>Long ticketId</field>
	
	<method><![CDATA[AuthRule find_by_user_and_role_and_ticket(User u, Role r, Ticket t)]]></method>
	<codegen what="dal_mock" extend="true" />
</entity>

</entities>
